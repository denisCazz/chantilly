---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Scripts from '../../components/Scripts.astro';
import { Icon } from 'astro-icon/components';
---

<Layout 
	title="Menu | Bar Chantilly" 
	description="Scopri il nostro menu completo: dalla caffetteria alle bevande, snack e servizi di tabaccheria. Qualit√† e convenienza nel cuore di Carmagnola."
>
	<!-- Skip link for accessibility -->
	<a href="#main" class="skip-link">Vai al contenuto principale</a>
	
	<Header />

	<main id="main" class="menu-page">
		<section class="menu-hero">
			<div class="container">
				<div class="hero-content">
					<h1 class="hero-title">Il Nostro Menu</h1>
					<p class="hero-subtitle">Caff√® di qualit√†, snack freschi e tutto quello che serve per la tua giornata.</p>
					<div class="search-container">
						<input 
							type="text" 
							id="menu-search" 
							placeholder="üîç Cerca nel menu..." 
							class="search-input"
						/>
					</div>
				</div>
			</div>
		</section>

		<section class="menu-grid">
			<div class="container">
				<div class="menu-columns">
					<div class="menu-column">
				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:coffee-outline" />
						Caffetteria
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Espresso</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Corretto</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,20</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Cappuccino</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,40</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Cappuccino soia/avena</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Caff√® decaffeinato</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Orzo</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Marocchino</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,60</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Marocchino nutella</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Latte bianco</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Latte macchiato</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,40</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Latte soia/avena</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Latte soia/avena macchiato</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Cioccolata calda</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Spremuta d'arancia</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Succhi</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Crema caff√®</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Infusi e tisane</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Punch</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
					</ul>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:food-croissant" />
						Brioches
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Vuote</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,40</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Ripiene</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,40</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Salate farcite</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Biscotti</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,30</span>
						</li>
					</ul>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:food" />
						Tavola Fredda
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Tramezzino</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Toast</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Focaccia</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Pizzetta</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Piadina</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Panini vari</span>
							<span class="item-dots"></span>
							<span class="item-price">da ‚Ç¨4,00</span>
						</li>
					</ul>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:leaf" />
						Insalate
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Insalata verde</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Insalata mista</span>
							<span class="item-dots"></span>
							<span class="item-price">da ‚Ç¨3,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Aggiunta ingredienti</span>
							<span class="item-dots"></span>
							<span class="item-price">da ‚Ç¨0,50</span>
						</li>
					</ul>
					<div class="ingredients-section">
						<h4 class="ingredients-title">Ingredienti disponibili:</h4>
						<div class="ingredients-grid">
							<span class="ingredient-tag">üçÖ Pomodoro</span>
							<span class="ingredient-tag">üßÖ Cipolla</span>
							<span class="ingredient-tag">ü•ï Carote</span>
							<span class="ingredient-tag">üåΩ Mais</span>
							<span class="ingredient-tag">üßÄ Mozzarella</span>
							<span class="ingredient-tag">üßÄ Scaglie grana</span>
							<span class="ingredient-tag">ü´í Olive</span>
							<span class="ingredient-tag">ü•í Cetrioli</span>
							<span class="ingredient-tag">üçû Crostini</span>
							<span class="ingredient-tag">üçó Pollo</span>
							<span class="ingredient-tag">üêü Tonno</span>
						</div>
					</div>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:bottle-soda-outline" />
						Bevande
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Acqua</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Acqua con sciroppo</span>
							<span class="item-dots"></span>
							<span class="item-price">da ‚Ç¨2,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Bibite in vetro</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Bibite in lattina</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Bibite in bottiglia 0,5 l</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Redbull</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Estath√© in bric</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨1,50</span>
						</li>
					</ul>
				</div>
					</div>
					
					<div class="menu-column">
				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:beer" />
						Vini e Birre
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Calice prosecco</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨4,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Calice vino fermo</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨4,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Birra alla spina bionda piccola</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Birra alla spina bionda media</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Birra alla spina rossa piccola</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Birra alla spina rossa media</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Birra in bottiglia</span>
							<span class="item-dots"></span>
							<span class="item-price">da ‚Ç¨3,50</span>
						</li>
					</ul>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:glass-cocktail" />
						Aperitivo
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Crodino</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Sanbitter</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Campari soda</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨3,50</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Martini bianco o rosso</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨4,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Aperol bitter</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨4,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Campari bitter</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨4,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Negroni</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Spritz</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Hugo</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Bellini (spumante brut + pesca)</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Rossini (spumante brut + fragola)</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Mimosa (spumante brut + arancia)</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
					</ul>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:cocktail" />
						Cocktail
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Bombay lemon</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Cuba libre (ron-cola)</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Vodka lemon, redbull</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Coke e malib√π</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
						<li class="menu-item">
							<span class="item-name">Mojito</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨5,00</span>
						</li>
					</ul>
				</div>

				<div class="category-card">
					<h2 class="category-title">
						<Icon name="mdi:glass-wine" />
						Digestivi
					</h2>
					<ul class="menu-items">
						<li class="menu-item">
							<span class="item-name">Limoncello, mirto, ecc.</span>
							<span class="item-dots"></span>
							<span class="item-price">‚Ç¨2,00</span>
						</li>
					</ul>
				</div>
					</div>
				</div>
			</div>
		</section>
	</main>
	<Scripts />
	
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const searchInput = document.getElementById('menu-search') as HTMLInputElement;
			const categoryCards = document.querySelectorAll('.category-card');
			
			if (!searchInput) return;
			
			searchInput.addEventListener('input', function() {
				const searchTerm = searchInput.value.toLowerCase().trim();
				
				categoryCards.forEach(card => {
					const categoryTitleElement = card.querySelector('.category-title');
					if (!categoryTitleElement) return;
					
					const categoryTitle = categoryTitleElement.textContent?.toLowerCase() || '';
					const menuItems = card.querySelectorAll('.menu-item');
					let hasVisibleItems = false;
					
					// Se il termine di ricerca √® vuoto, mostra tutto
					if (searchTerm === '') {
						(card as HTMLElement).style.display = 'block';
						menuItems.forEach(item => {
							(item as HTMLElement).style.display = 'flex';
						});
						return;
					}
					
					// Controlla se il titolo della categoria corrisponde
					const categoryMatches = categoryTitle.includes(searchTerm);
					
					menuItems.forEach(item => {
						const itemNameElement = item.querySelector('.item-name');
						if (!itemNameElement) return;
						
						const itemName = itemNameElement.textContent?.toLowerCase() || '';
						const itemMatches = itemName.includes(searchTerm);
						
						if (itemMatches || categoryMatches) {
							(item as HTMLElement).style.display = 'flex';
							hasVisibleItems = true;
						} else {
							(item as HTMLElement).style.display = 'none';
						}
					});
					
					// Mostra/nascondi la categoria in base ai risultati
					(card as HTMLElement).style.display = hasVisibleItems || categoryMatches ? 'block' : 'none';
				});
			});
		});
	</script>
</Layout>

<style>
	.skip-link {
		position: absolute;
		top: -40px;
		left: 0;
		background: #000;
		color: white;
		padding: 8px;
		z-index: 100;
		transition: top 0.3s;
	}

	.skip-link:focus {
		top: 0;
	}

	.menu-page {
		background-color: var(--color-bg-light);
	}
	[data-theme="dark"] .menu-page {
		background-color: var(--color-bg-dark);
	}

	/* Hero Menu Section */
	.menu-hero {
		padding: 6rem 2rem;
		text-align: center;
		background-color: var(--color-bg-offset);
		border-bottom: 1px solid var(--color-border);
	}
	[data-theme="dark"] .menu-hero {
		background-color: var(--color-bg-dark-offset);
	}

	.menu-hero .hero-title {
		font-size: clamp(2.5rem, 5vw, 3.5rem);
		font-weight: 800;
		color: var(--color-primary);
		margin-bottom: 0.5rem;
	}

	.menu-hero .hero-subtitle {
		font-size: clamp(1rem, 2.5vw, 1.25rem);
		color: var(--color-text-offset);
		max-width: 600px;
		margin: 0 auto 2rem;
	}
	
	.search-container {
		max-width: 400px;
		margin: 0 auto;
	}
	
	.search-input {
		width: 100%;
		padding: 1rem 1.5rem;
		font-size: 1rem;
		border: 2px solid var(--color-border);
		border-radius: 50px;
		background: var(--color-bg);
		color: var(--color-text);
		transition: all 0.3s ease;
		outline: none;
	}
	
	.search-input:focus {
		border-color: #4caf50;
		box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
		transform: translateY(-2px);
	}
	
	.search-input::placeholder {
		color: var(--color-text-secondary);
	}

	/* Menu Grid Section */
	.menu-grid {
		padding: 4rem 0;
	}

	.menu-grid .container {
		max-width: 1200px;
	}
	
	.menu-columns {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 3rem;
		align-items: start;
	}
	
	.menu-column {
		display: flex;
		flex-direction: column;
		gap: 2rem;
	}

	.category-card {
		background-color: var(--color-bg);
		border-radius: var(--border-radius-lg);
		padding: 2.5rem;
		box-shadow: var(--shadow-sm);
		border: 1px solid var(--color-border);
		transition: transform 0.3s ease, box-shadow 0.3s ease;
		min-height: fit-content;
	}

	.category-card:hover {
		transform: translateY(-5px);
		box-shadow: var(--shadow-md);
	}

	[data-theme="dark"] .category-card {
		background-color: var(--color-bg-dark-offset);
		border-color: var(--color-border-dark);
	}

	.category-title {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		font-size: 1.75rem;
		font-weight: 700;
		color: var(--color-primary);
		margin-bottom: 1.5rem;
		padding-bottom: 0.75rem;
		border-bottom: 2px solid var(--color-primary-light);
	}

	.menu-items {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.menu-item {
		display: flex;
		align-items: baseline;
		justify-content: space-between;
		padding: 1rem 0;
		border-bottom: 1px dashed var(--color-border);
		min-height: 2.5rem;
	}

	.menu-item:last-child {
		border-bottom: none;
	}

	.item-name {
		font-weight: 600;
		color: var(--color-text);
		flex-shrink: 0;
		margin-right: 0.5rem;
	}

	.item-dots {
		flex-grow: 1;
		border-bottom: 1px dotted var(--color-text-offset);
		position: relative;
		bottom: 4px;
		margin: 0 0.5rem;
	}

	.item-price {
		font-weight: 700;
		color: var(--color-primary);
		flex-shrink: 0;
	}
	
	.ingredients-section {
		margin-top: 1.5rem;
		padding-top: 1.5rem;
		border-top: 1px dashed var(--color-border);
	}
	
	.ingredients-title {
		font-size: 1rem;
		color: var(--color-text);
		margin-bottom: 1rem;
		font-weight: 600;
	}
	
	.ingredients-grid {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
	}
	
	.ingredient-tag {
		display: inline-block;
		background: linear-gradient(135deg, #e8f5e8, #f0f9f0);
		color: #2d5a2d;
		padding: 0.4rem 0.8rem;
		border-radius: 20px;
		font-size: 0.85rem;
		font-weight: 500;
		border: 1px solid #c8e6c9;
		transition: all 0.2s ease;
	}
	
	.ingredient-tag:hover {
		background: linear-gradient(135deg, #c8e6c9, #e8f5e8);
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(76, 175, 80, 0.2);
	}

	@media (max-width: 968px) {
		.menu-columns {
			grid-template-columns: 1fr;
			gap: 2rem;
		}
	}
	
	@media (max-width: 768px) {
		.menu-hero {
			padding: 4rem 1rem;
		}
		.menu-grid {
			padding: 2rem 0;
		}
		.category-card {
			padding: 2rem;
		}
	}
	
	@media (max-width: 480px) {
		.category-card {
			padding: 1.5rem;
		}
		.menu-item {
			flex-wrap: wrap;
			gap: 0.5rem;
		}
		.item-dots {
			display: none;
		}
		.item-price {
			margin-left: auto;
		}
	}
</style>
